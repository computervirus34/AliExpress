@model AliExpress.AliexpressProduct

@{
    ViewData["Title"] = "Details";
}

<div>
    <h4>Aliexpress Product Details</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Url)
        </dt>
        <dd class="col-sm-10">
            <a href="https://@Model.Url" target="_blank">
                @Html.DisplayFor(model => model.Url)
            </a>
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.ProductName)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.ProductName)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Specification1)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Specification1)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.MainImage)
        </dt>
        <dd class="col-sm-10">
            @*<a href="~/Images/@Model.MainImage" class="thumbnail">*@
                @*<p>@Model.MainImage</p>*@
                <img src="~/Images/@Model.MainImage" id="@Model.MainImage" data-toggle="modal" data-target="#myModal" style="height:100px;width:100px;" />
            @*</a>*@
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Images)
        </dt>
        <dd class="col-sm-10 images">
            @foreach (var item in Model.Images.Split(";"))
            {
                if (!String.IsNullOrEmpty(item))
                {
                    @*<a href="~/Images/@item" class="thumbnail">*@
                        @*<p>@item</p>*@
                        <img src="~/Images/@item" id="@item" data-toggle="modal" data-target="#myModal" style="height:100px;width:100px;" />
                    @*</a>*@
                }

                @*<dt class="col-sm-10 comment more">
                        @Html.DisplayFor(modelItem => item)
                    </dt>
                    <dd class="col-sm-2">
                        <img src="@Url.Action("RenderPhoto", "Products", new { photoId = item })" width="100" height="100" alt="Image" />
                    </dd>*@
            }
        </dd>
        @*<dd class="col-sm-10 comment more">
                @Html.DisplayFor(model => model.Images)
            </dd>*@
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Sku)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Sku)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Description)
        </dt>
        <dd class="col-sm-10 comment more">
            @Html.DisplayFor(model => model.Description)
        </dd>
        <dt class="col-sm-2 ">
            @Html.DisplayNameFor(model => model.SpecInformation)
        </dt>
        <dd class="col-sm-10">
            <pre class="more">
                @Html.DisplayFor(model => model.SpecInformation)
            </pre>
        </dd>
    </dl>
</div>
<div>
    @Html.ActionLink("Edit", "Edit", new { id = Model.Id }) |
    <a asp-action="Index">Back to List</a>
</div>
<div id="myModal" class="modal fade" role="dialog">
    
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-body">
                <img class="img-responsive center-block d-block mx-auto" src="" />
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        /*$(".comment").shorten();*/
        $('#myModal').on('show.bs.modal', function (e) {
            var image = $(e.relatedTarget).attr('src');
            $(".img-responsive").attr("src", image);
        });

        //$('.next').click(function () {
        //    var curr = $(modalImg).attr('src');
        //    var next = $('img[src="' + curr + '"]').parent('li').next().find('img').attr('src');
        //    modalImg.attr('src', next);
        //});

        //$('.prev').click(function () {
        //    var curr = $('modalImg').attr('src');
        //    var prev = $('img[src="' + curr + '"]').parent('li').prev().find('img').attr('src');
        //    modalImg.attr('src', prev);
        //});
        //$('img').on('click', function () {
        //    var image = $(this).attr('src');
        //    $('#myModal').on('show.bs.modal', function () {
        //        $(".img-responsive").attr("src", image);
        //    });
        //});
    });
</script>